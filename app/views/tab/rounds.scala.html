@import common._
@import helper._
@import play.api.Configuration
@import play.api.db.Database
@import eu.seitzal.opentab._
@import shortcuts._
@import models.Tab
@import models.permissions._

@(tab: Tab, config: Configuration, db: Database)(implicit request: RequestHeader)
<!DOCTYPE html>
<html lang="en">
  <head>
    @common.head(config)
    <title>Rounds - @tab.name - @config.get[String]("apptitle")</title>
  </head>
  <body>
    @common.navbar(config, Some(tab))
    <div class="container mt-2 mr-auto ml-auto table-responsive">
      <table class="table table-bordered table-hover" id="table_rounds">
        <thead class="thead-light">
          <tr>
            <th colspan="5">Rounds</th>
          </tr>
          <tbody class="w-100" id="tbody_rounds">
            <td colspan="5">
              <div class="d-flex justify-content-center">
                <div class="spinner-border text-primary"></div>
              </div>
            </td>
          </tbody>
          @if(loggedIn && userCanSetupTab(sessionUserId, tab.id)(db)) {
            <tfoot>
              <tr>
                <td colspan="5">
                  <button type="button" class="btn btn-block btn-primary">Add New Round</button>
                </td>
              </tr>
            </tfoot>
          }
        </thead>
      </table>
    </div>
    @common.scripts(config, Some(db), Some(tab))
    <script src="@routes.Assets.versioned("javascripts/main.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/rounds.js")" type="text/javascript"></script>
  </body>
</html>